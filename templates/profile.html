import random
import time
from datetime import datetime, timedelta
{% extends "base.html" %}

{% block title %}ржЖржорж╛рж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 50px auto; background: white; padding: 30px; border-radius: 10px;">
    <h1 style="text-align: center; margin-bottom: 30px;">ЁЯСд ржЖржорж╛рж░ ржкрзНрж░рзЛржлрж╛ржЗрж▓</h1>
    
    <!-- ржЗржЙржЬрж╛рж░ ржЗржиржлрзЛ -->
    <div style="margin-bottom: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
        <p><strong>ржЗржЙржЬрж╛рж░ржирзЗржо:</strong> {{ user.username }}</p>
        <p><strong>ржЗржорзЗржЗрж▓:</strong> {{ user.email }} 
            {% if user.email_verified %}
                <span style="color: green; font-size: 12px;">(ржнрзЗрж░рж┐ржлрж╛ржЗржб)</span>
            {% else %}
                <span style="color: red; font-size: 12px;">(ржнрзЗрж░рж┐ржлрж╛ржЗ ржХрж░рзБржи)</span>
            {% endif %}
        </p>
        <p><strong>ржлрзЛржи:</strong> {{ user.phone or 'рж╕рзЗржЯ ржХрж░рж╛ рж╣ржпрж╝ржирж┐' }}
            {% if user.phone and user.phone_verified %}
                <span style="color: green; font-size: 12px;">(ржнрзЗрж░рж┐ржлрж╛ржЗржб)</span>
            {% elif user.phone %}
                <span style="color: red; font-size: 12px;">(ржнрзЗрж░рж┐ржлрж╛ржЗ ржХрж░рзБржи)</span>
            {% endif %}
        </p>
        <p><strong>ржарж┐ржХрж╛ржирж╛:</strong> {{ user.address or 'рж╕рзЗржЯ ржХрж░рж╛ рж╣ржпрж╝ржирж┐' }}</p>
        <p><strong>рзи-ржлрзНржпрж╛ржХрзНржЯрж░:</strong> 
            {% if user.two_factor_enabled %}
                <span style="color: green;">тЬЕ рж╕ржХрзНрж░рж┐ржпрж╝</span>
            {% else %}
                <span style="color: red;">тЭМ ржирж┐рж╖рзНржХрзНрж░рж┐ржпрж╝</span>
            {% endif %}
        </p>
    </div>
    
    <!-- 2FA ржмрж╛ржЯржи -->
    {% if user.two_factor_enabled %}
    <form action="/disable-2fa" method="POST" style="margin-bottom: 15px;">
        <button type="submit" style="width: 100%; padding: 15px; background: #dc3545; color: white; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
            ЁЯФУ рзи-ржлрзНржпрж╛ржХрзНржЯрж░ ржЕржерзЗржиржЯрж┐ржХрзЗрж╢ржи ржмржирзНржз ржХрж░рзБржи
        </button>
    </form>
    {% else %}
    <form action="/enable-2fa" method="POST" style="margin-bottom: 15px;">
        <button type="submit" style="width: 100%; padding: 15px; background: #28a745; color: white; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
            ЁЯФР рзи-ржлрзНржпрж╛ржХрзНржЯрж░ ржЕржерзЗржиржЯрж┐ржХрзЗрж╢ржи ржЪрж╛рж▓рзБ ржХрж░рзБржи
        </button>
    </form>
    {% endif %}
    
    <!-- ржлрзЛржи ржнрзЗрж░рж┐ржлрж┐ржХрзЗрж╢ржи ржмрж╛ржЯржи -->
    {% if user.phone and not user.phone_verified %}
    <form action="/verify-phone" method="POST" style="margin-bottom: 15px;">
        <button type="submit" style="width: 100%; padding: 15px; background: #667eea; color: white; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
            ЁЯУ▒ ржлрзЛржи ржнрзЗрж░рж┐ржлрж╛ржЗ ржХрж░рзБржи
        </button>
    </form>
    {% endif %}
    
    <!-- ржЗржорзЗржЗрж▓ ржнрзЗрж░рж┐ржлрж┐ржХрзЗрж╢ржи ржмрж╛ржЯржи -->
    {% if not user.email_verified %}
    <form action="/verify-email" method="POST" style="margin-bottom: 15px;">
        <button type="submit" style="width: 100%; padding: 15px; background: #667eea; color: white; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
            ЁЯУз ржЗржорзЗржЗрж▓ ржнрзЗрж░рж┐ржлрж╛ржЗ ржХрж░рзБржи
        </button>
    </form>
    {% endif %}
    
    <div style="margin-top: 20px; text-align: center;">
        <a href="/" style="color: #667eea;">тЖР рж╣рзЛржо ржкрзЗржЬрзЗ ржлрж┐рж░рзБржи</a>
    </div>
</div>
{% endblock %}